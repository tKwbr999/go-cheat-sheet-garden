---
title: "制御構文: `for` を `while` ループとして使う"
tags: ["flow-control", "for", "while", "ループ", "繰り返し"]
---

Go言語には `while` というキーワードはありませんが、`for` 文の柔軟な構文を使うことで、他の言語の `while` ループと同じ動作を実現できます。

## `while` としての `for` 文

`for` 文の3つの部分（初期化; 条件; 後処理）のうち、**初期化ステートメントと後処理ステートメントを省略**し、**条件式だけ**を書くと、その条件式が `true` である間、ループ本体の処理を繰り返します。これは、多くの言語における `while` ループと全く同じ動作です。

**構文:** `for 条件式 { ... ループ本体 ... }`

```go title="for を while として使う例"
package main

import "fmt"

func main() {
	// 合計が 100 を超えるまで数値を加算し続ける例
	sum := 0
	num := 1

	// sum が 100 以下の間、ループを続ける (while sum <= 100)
	for sum <= 100 {
		sum += num // sum に num を加算
		num++     // num を 1 増やす
		fmt.Printf("num=%d, sum=%d\n", num-1, sum) // 途中経過を表示
	}

	fmt.Printf("\n最終的な合計: %d (次に加算するはずだった数値: %d)\n", sum, num)
}

/* 実行結果:
num=1, sum=1
num=2, sum=3
num=3, sum=6
num=4, sum=10
num=5, sum=15
num=6, sum=21
num=7, sum=28
num=8, sum=36
num=9, sum=45
num=10, sum=55
num=11, sum=66
num=12, sum=78
num=13, sum=91
num=14, sum=105

最終的な合計: 105 (次に加算するはずだった数値: 15)
*/
```

**コード解説:**

*   `for sum <= 100 { ... }`:
    *   初期化ステートメントと後処理ステートメントがありません。セミコロン `;` も不要です。
    *   ループの各反復の開始前に `sum <= 100` という条件式が評価されます。
    *   条件が `true` の間、ループ本体 (`sum += num` と `num++`) が実行されます。
    *   `sum` が `100` を超えた時点で条件が `false` になり、ループが終了します。
*   ループの制御に必要な変数 (`sum`, `num`) は、`for` 文の**外側**で宣言・初期化し、ループ**内部**で更新する必要があります（この例では `sum += num` と `num++`）。

この形式の `for` 文は、特定の条件が満たされるまで処理を繰り返したい場合に便利です。次のセクションでは、無限に処理を繰り返すループについて見ていきます。