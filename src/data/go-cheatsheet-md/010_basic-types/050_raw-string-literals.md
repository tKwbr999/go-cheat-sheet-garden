---
title: "基本の型: 生文字列リテラル (Raw String Literal)"
tags: ["basic-types", "文字列", "string", "リテラル", "バッククォート"]
---

通常の文字列リテラルはダブルクォート `"` で囲みますが、これにはいくつかの制限があります。例えば、文字列内に改行を含めたい場合や、特殊文字（`\` や `"` など）をそのまま表示したい場合には、エスケープシーケンス (`\n`, `\\`, `\"` など) を使う必要があり、少し煩雑になることがあります。

Go言語には、このような場合に便利な**生文字列リテラル (Raw String Literal)** が用意されています。

## 生文字列リテラルとは？

生文字列リテラルは、**バッククォート `` ` ``** で囲んで記述します。

```go title="生文字列リテラルの例"
package main

import "fmt"

func main() {
	// ダブルクォートを使った通常の文字列リテラル
	// 改行や特殊文字にはエスケープシーケンスが必要
	normalString := "これは通常の文字列です。\n改行が含まれています。\nパス: C:\\Users\\Gopher"
	fmt.Println("--- 通常の文字列 ---")
	fmt.Println(normalString)

	// バッククォートを使った生文字列リテラル
	// 書いた内容がそのまま文字列になる
	rawString := `これは生文字列リテラルです。
改行もそのまま含まれます。
パス: C:\Users\Gopher (エスケープ不要)
ダブルクォート " もそのまま書けます。` // バッククォート自体を含めることはできない
	fmt.Println("\n--- 生文字列 ---")
	fmt.Println(rawString)
}

/* 実行結果:
--- 通常の文字列 ---
これは通常の文字列です。
改行が含まれています。
パス: C:\Users\Gopher

--- 生文字列 ---
これは生文字列リテラルです。
改行もそのまま含まれます。
パス: C:\Users\Gopher (エスケープ不要)
ダブルクォート " もそのまま書けます。
*/
```

## 生文字列リテラルの特徴

1.  **改行がそのまま反映される:** バッククォート内に書かれた改行は、そのまま文字列内の改行として扱われます。`\n` を書く必要がありません。
2.  **エスケープシーケンスが無効になる:** `\` は特別な意味を持たなくなり、単なるバックスラッシュ文字として扱われます。そのため、Windowsのパス (`C:\Users\...`) や正規表現など、`\` を多く含む文字列を記述する際に便利です。
3.  **ダブルクォート `"` をそのまま書ける:** 文字列内に `"` を含めたい場合に `\"` とエスケープする必要がありません。
4.  **バッククォート `` ` `` 自体は含められない:** 生文字列リテラルの中にバッククォート文字を含めることはできません。

## どのような時に便利か？

*   **複数行にわたるテキスト:** HTML、SQLクエリ、設定ファイルの内容など、複数行のテキストをコード内に埋め込む場合。
*   **正規表現パターン:** 正規表現では `\` を使うことが多いため、エスケープの手間が省けます。
*   **Windowsのファイルパス:** パス区切り文字 `\` をエスケープせずに記述できます。
*   **JSONやXMLなどの文字列:** ダブルクォートを多用する文字列を記述する際に便利です。

```go title="生文字列リテラルの利用例"
package main

import "fmt"

func main() {
	// HTML の例
	html := `
<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
</head>
<body>
    <h1>Welcome!</h1>
    <p>"Hello" from Go!</p>
</body>
</html>
`
	fmt.Println("--- HTML ---")
	fmt.Println(html)

	// 正規表現の例 (数字のみにマッチ)
	regexPattern := `^[0-9]+$`
	fmt.Println("\n--- 正規表現 ---")
	fmt.Println(regexPattern)
}

/* 実行結果:
--- HTML ---

<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
</head>
<body>
    <h1>Welcome!</h1>
    <p>"Hello" from Go!</p>
</body>
</html>


--- 正規表現 ---
^[0-9]+$
*/
```

生文字列リテラルは、特定の種類の文字列を扱う際にコードをよりシンプルで読みやすくするための便利な機能です。