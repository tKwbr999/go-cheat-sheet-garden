@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* --- Light Mode: Paper/Craft Theme --- */
    --background: 40 33% 97%; /* Warm Off-White (Papaya Whip like) */
    --foreground: 30 25% 25%; /* Dark Brown (Dark Liver like) */

    --card: 35 30% 94%; /* Light Beige (Antique White like) */
    --card-foreground: 30 25% 25%; /* Dark Brown */

    --popover: 40 33% 96%; /* Slightly lighter than background */
    --popover-foreground: 30 25% 25%; /* Dark Brown */

    --primary: 210 30% 45%; /* Muted Ink Blue (Steel Blue like) */
    --primary-foreground: 40 33% 97%; /* Warm Off-White */

    --secondary: 40 20% 92%; /* Lighter Gray-Beige */
    --secondary-foreground: 30 20% 35%; /* Slightly lighter Dark Brown */

    --muted: 40 20% 92%; /* Lighter Gray-Beige */
    --muted-foreground: 30 15% 55%; /* Muted Brown */

    --accent: 145 30% 40%; /* Deep Green (Dark Slate Gray like) */
    --accent-foreground: 40 33% 97%; /* Warm Off-White */

    --destructive: 0 70% 50%; /* Muted Red */
    --destructive-foreground: 0 0% 100%; /* White */

    --border: 30 15% 88%; /* Light Gray */
    --input: 30 15% 88%; /* Light Gray */
    --ring: 210 30% 55%; /* Slightly lighter Muted Ink Blue */

    --radius: 0.5rem;
  }

  .dark {
    /* --- Dark Mode: Paper/Craft Theme --- */
    --background: 30 15% 18%; /* Dark Brown */
    --foreground: 40 20% 88%; /* Light Beige */

    --card: 30 12% 22%; /* Slightly lighter Dark Brown */
    --card-foreground: 40 20% 88%; /* Light Beige */

    --popover: 30 10% 15%; /* Very Dark Brown */
    --popover-foreground: 40 20% 88%; /* Light Beige */

    --primary: 210 30% 70%; /* Lighter Muted Ink Blue */
    --primary-foreground: 30 15% 18%; /* Dark Brown */

    --secondary: 30 10% 25%; /* Dark Gray-Brown */
    --secondary-foreground: 40 15% 80%; /* Slightly muted Light Beige */

    --muted: 30 10% 25%; /* Dark Gray-Brown */
    --muted-foreground: 40 10% 60%; /* Muted Beige */

    --accent: 145 30% 60%; /* Lighter Deep Green */
    --accent-foreground: 30 15% 18%; /* Dark Brown */

    --destructive: 0 60% 55%; /* Muted Red (Dark) */
    --destructive-foreground: 0 0% 100%; /* White */

    --border: 30 10% 30%; /* Dark Gray */
    --input: 30 10% 30%; /* Dark Gray */
    --ring: 210 30% 60%; /* Slightly lighter Muted Ink Blue (Dark) */
    /* --radius is inherited from :root */
  }

  * {
    @apply border-border antialiased;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }

  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .section-title {
    @apply text-xl font-semibold mb-4 text-foreground/90; /* Adjusted for dark mode */
  }

  .code-grid {
    @apply grid gap-8 mb-12; /* Restore grid */
    /* Adjust columns for tile layout with max width ~60 chars (approx 30rem) */
    grid-template-columns: repeat(auto-fill, minmax(min(100%, 30rem), 1fr));
  }
  .code-block:hover {
    @apply shadow-lg dark:shadow-md dark:shadow-primary/10;
  }

  .code-block {
    @apply rounded-lg overflow-hidden shadow-sm border bg-card transition-shadow duration-300 hover:shadow-md; /* Use card background */
  }

  .code-title {
    @apply text-sm font-medium px-4 py-2 bg-primary text-primary-foreground border-b border-primary; /* Use primary background for header */
  }

  .code-content {
    @apply p-4 font-mono text-sm overflow-x-auto bg-card; /* Use card background */
  }

  /* Syntax Highlighting - Adjusted for better contrast in both modes */
  .keyword {
    @apply text-primary font-medium;
  }

  .string {
    @apply text-accent;
  }

  .comment {
    @apply text-muted-foreground italic;
  }

  .function {
    /* Use destructive color for functions */
    @apply text-[hsl(var(--destructive))] dark:text-[hsl(var(--destructive))];
  }

  .number {
    /* Use secondary foreground for numbers */
    @apply text-[hsl(var(--secondary-foreground))] dark:text-[hsl(var(--secondary-foreground))];
  }

  .type {
    /* Use a slightly muted foreground for types */
    @apply text-foreground/90 dark:text-foreground/90;
  }

  .variable {
    @apply text-foreground/80;
  }

  .stagger-fade-in > * {
    opacity: 0;
    animation: fade-up 0.5s ease-out forwards;
  }

  .stagger-fade-in > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-fade-in > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-fade-in > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-fade-in > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-fade-in > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-fade-in > *:nth-child(6) { animation-delay: 0.6s; }
}
